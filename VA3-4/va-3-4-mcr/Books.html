<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTML + CSS</title>
    <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header class="container">
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">Bookish</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="Books.html">Books</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="Fact.html">Facts</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main class="container">
      <section class="add-book">
        <h1>Add a Book</h1>
        <form id="add-form">
          <div class="mb-3">
            <label for="title" class="form-label">Title :</label>
            <input type="text" class="form-control" id="title" />
          </div>
          <div class="mb-3">
            <label for="author" class="form-label">Author :</label>
            <input type="text" class="form-control" id="author" />
          </div>

          <!-- genre  -->
          <label for="genre">Genre :</label>
          <select class="form-select mb-3" id="genre" aria-label="Default select example">
            <option value="Classic">Classic</option>
            <option  value="Science Fiction">Science Fiction</option>
            <option  value="Music">Music</option>
            <option  value="Magazine">Magazine</option>
            <option  value="Technology">Technology</option>
          </select>

          <!-- 2 media type -->
          <label for="media">Media Type :</label>
          <select class="form-select mb-3" id="media" aria-label="Default select example">
            <option  value="Book">Book</option>
            <option  value="DVD">DVD</option>
            <option  value="Magazine">Magazine</option>
            <option  value="Digital Book">Digital Book</option>
          
          </select>
         <button class="btn btn-primary" type="submit">Add Book </button>
      </section>
      <h1 class="my-4">Book List</h1>
      <section class="filters container">
        <!-- filter by genere  -->
           <div class="row">
           <div class="col">

        <label for="filter-genre">Filter By Genre :</label>
        <select class="form-select mb-3" id="filter-genre" aria-label="Default select example" style="width: 90%;">
          <option value="All">All Books</option>
          <option value="Classic">Classic</option>
          <option value="Science Fiction">Science Fiction</option>
          <option value="Music">Music</option>
          <option value="Magazine">Magazine</option>
          <option value="Technology">Technology</option>
        </select>
    </div>
        <!-- filter by type  -->
        <div class="col">
        <label for="filter-media">Filter By Media Type :</label>
        <select class="form-select mb-3" id="filter-media" aria-label="Default select example" style="width: 90%;">
          <option  value="All">All</option>
          <option  value="Book">Book</option>
          <option  value="DVD">DVD</option>
          <option  value="Magazine">Magazine</option>
          <option  value="Digital Book">Digital Book</option>
        
        </select>
    </div>
    </div>
      </section>

      <section class="show-card my-5">
        <div class="card" style="width: 100%;">
            <ul class="list-group list-group-flush" id="output">
              
            </ul>
          </div>
      
      
      
      </section>
    </main>
    <footer class="bg-dark mt-5 py-4">
      <div class="text-center text-light">
        <h6>@ 2024 Bookish. All Rights Reserved.</h6>
      </div>
    </footer>


    <script>

let libraryDatas = [
      {
        id: 1,
        title: "The Great Gatsby",
        author: "F. Scott Fitzgerald",
    
        genre: "Classic",
    
        mediaType: "Book",
        
      },
      {
        id: 2,
        title: "The Hitchhiker's Guide to the Galaxy",
        author: "Douglas Adams",
   
        genre: "Science Fiction",
    
        mediaType: "Book",
        
      },
      {
        id: 3,
        title: "The Beatles Anthology",
        author: "The Beatles",
      
        genre: "Music",
   
        mediaType: "DVD",
      },
      {
        id: 4,
        title: "National Geographic",
        author: "Various",
      
        genre: "Magazine",
    
        mediaType: "Magazine",
        
      },
      {
        id: 5,
        title: "Database Management Essentials",
        author: "Abraham Silberschatz",
        
        genre: "Technology",
       
        mediaType: "Digital Book",
    
      },
    ];

    function showData(a){
        const output = document.getElementById("output")
        let libraryData = []
     
        
            if(a==0){
                for(let i=0;i<libraryDatas.length;i++){

                libraryData.push(libraryDatas[i])
                }
            }else{
                libraryData =a  
            }
        output.innerHTML = ""

        
        for(let i = 0;i<libraryData.length;i++){
        let liElement = document.createElement('li')
        liElement.className ="list-group-item d-flex justify-content-between align-items-center"
        let start =     document.createElement('div')
           start.innerHTML =`<h5>${libraryData[i].title}</h5>
                <p>Author :${libraryData[i].author} </p>
                <p><span>Genere : ${libraryData[i].genre} ,  </span> <span>  Media Type : ${libraryData[i].mediaType}</span></p>`
                let endDiv = document.createElement('div')
                endDiv.className ="text-center"
                endDiv.innerHTML =`<a class="btn btn-primary" href="">Details</a>`

                liElement.appendChild(start)     
                liElement.appendChild(endDiv)   
                output.appendChild(liElement)  

        }

    }

    showData(0)

    // add form statr 
    const form = document.getElementById("add-form")
    form.addEventListener('submit',function(event){
        event.preventDefault();
        let title =document.getElementById("title").value
        let author =document.getElementById("author").value
        let genre =document.querySelector('#genre').value
      
     
        let media =document.querySelector('#media').value
     
     

        let obj ={
         id: libraryDatas.length+1,
         title:title,
         author:author,
         genre:genre,
         mediaType:media

        }

        libraryDatas.push(obj) 

        showData(0)

    })

    

    //add form end
    //filters 
    let fgenre =document.querySelector('#filter-genre')
    let fmedia =document.querySelector('#filter-media')
    // genre filter
    fgenre.addEventListener('change',function(){
        nfgenre = fgenre.value
        if(nfgenre=="All"){
            showData(0)
        }else if(nfgenre !="All"){
            let arr =[]
            for(let i=0;i<libraryDatas.length;i++){

                if(nfgenre == libraryDatas[i].genre){
                    arr.push(libraryDatas[i])

                }
            }

          showData(arr)
        }
    })
// media filter

fmedia.addEventListener('change',function(){
        nfmedia = fmedia.value
        if(nfmedia==="All"){
            showData(0)
        }else if(nfmedia !="All"){
            let arr =[]
            for(let i=0;i<libraryDatas.length;i++){

                if(nfmedia == libraryDatas[i].mediaType){
                    arr.push(libraryDatas[i])

                }
            }

          showData(arr)
        }
    })
      

    //end filters

    </script>
  </body>
</html>
