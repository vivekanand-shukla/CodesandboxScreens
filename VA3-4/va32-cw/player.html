<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Players Database</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  <header >
    
    
    
    <div class="container">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
     <div class="container-fluid">
       <a class="navbar-brand" href="index.html"> cricket Player's Database</a>
       <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse" id="navbarNav">
         <ul class="navbar-nav">
           <li class="nav-item">
             <a class="nav-link active" aria-current="page" href="index.html">Home</a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="player.html">player</a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="Report.html">Report</a>
           </li>
           
         </ul>
       </div>
     </div>
    </nav>
  </div>
 
 
 
   </header>
      <main class="container ">

        <section class="mt-4">

          <div class="">
            <label for="roleFilter">Filter By Role : </label>
            <select name="" id="roleFilter">
              <option value="all">All Roles</option>
              <option value="Batsman">Batsman</option>
              <option value="Bowler">Bowler</option>
            </select>


          </div>
          <div class="py-3">
            <label for="countryFilter">Filter By Country : </label>
           <select name="" id="countryFilter">
            <option value="all">All Country</option>
            <option value="India">India</option>
            <option value="Australia">Australia</option>
           </select>
          </div>
          <!-- add player form  2 -->
        <h2>Add Players</h2>
        <form action="">
          <div class="mb-3">
            <label for="playerName">Name: </label><br>
            <input type="text" id="playerName" required>
          </div>

          <div class="mb-3">
            <label for="playerCountry">Country: </label><br>
            <input type="text" id="playerCountry" required>
          </div>
          <div class="mb-3">
            <label for="playerRole">Role: </label><br>
            <input type="text" id="playerRole" required>
          </div> 
          <button class="btn btn-primary " type="button" id="addPlayerBtn">Add Player</button>
        </form>
   
      </section >
      <!-- show player -->
      <section class="container mt-4" >
    <div class="row" id="playerList"></div>
      </section>
      </main>
      <script>

        // task 0 player database 
        const player = [
           {id:1,name:"Akansha",country:"India",role:"Batsman"},
          {id:2, name:"Tanvi",country:"India",role:"Bowler"},
          {id:3, name:"Tanay",country:"Australia",role:"Batsman"},
        ];
        // btn selcletoe for adding new player
        const addPlayerBtn = document.querySelector("#addPlayerBtn")
  // showing player container
        const playerList =document.querySelector("#playerList")

        //filters
        const roleFilter =document.querySelector("#roleFilter")
        const countryFilterr =document.querySelector("#countryFilter")


// task 1  show all player all time 

 function  updatePlayerList(player){

  playerList.innerHTML = ""
        for(let i= 0;i<player.length;i++){
          const col =document.createElement("div")
          col.className ="col-md-4"
          const card =document.createElement("div")
          card.className ="card mb-3"
          
          const cardHeader = document.createElement("div")
          cardHeader.className ="card-header"
          const h2 = document.createElement("h2")
          h2.innerHTML = player[i].name
          cardHeader.appendChild(h2)
          const cardBody = document.createElement('div')
          cardBody.className ="card-body"

          const country = document.createElement("p")
          country.className= 'card-text'
                  
          country.innerHTML = `<strong>country : </strong> ${player[i].country}`
     

          const role = document.createElement("p")
          role.className = 'card-text'
          role.innerHTML = `<strong>Role : </strong> ${ player[i].role}`

          const detailLink = document.createElement("a")
          detailLink.href =`PlayersDetails.html?id=${player[i].id}`
          detailLink.className =`btn btn-primary`
          detailLink.textContent = `Details`

        cardBody.appendChild(country)
        cardBody.appendChild(role)
        cardBody.appendChild(detailLink)


          card.appendChild(cardHeader)
          card.appendChild(cardBody)

          col.appendChild(card)
          playerList.appendChild(col)
        }
 }     
       
 
  //add new player 2
 addPlayerBtn.addEventListener('click',function(){
          const playerName = document.querySelector("#playerName").value
          const playerCountry = document.querySelector("#playerCountry").value
          const playerRole = document.querySelector("#playerRole").value

          if(playerName && playerCountry &&  playerRole){
            const newPlayerId = player.length +1
            const newPlayer ={
              id:newPlayerId,
              name:playerName,
              country:playerCountry,
              role:playerRole,

            }
            player.push(newPlayer);
            updatePlayerList(player)
          }
        })
   
   
   
        roleFilter.addEventListener("change",applyRoleFilter) 
        countryFilterr.addEventListener("change",applyCountryFilter) 

       
     function applyRoleFilter (){
      const selectedRole = roleFilter.value
      const filterPlayers =  []
     
        if(selectedRole != "all"){
          for(let i=0;i<player.length;i++){
            if(player[i].role === selectedRole){
              filterPlayers.push(player[i])
            }
        }
      
        updatePlayerList(filterPlayers) 
      }else if(selectedRole === "all"){

      updatePlayerList(player) 
      }
           
     }
     
   function   applyCountryFilter(){
    let countryFilter =countryFilterr.value
    let arr =[]
    
    if(countryFilter!= "all"){
      for(let i=0;i<player.length;i++){
        if(player[i].country===countryFilter){
          arr.push(player[i])
        }
      }
      updatePlayerList(arr) 
      
    }else if(countryFilter === "all"){
      
      updatePlayerList(player) 
    }
  }
     
     
     
     
     
     
     
     
     updatePlayerList(player)


      </script>
      
</body>
</html>