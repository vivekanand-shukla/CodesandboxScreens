<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
    />
    <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header class="container">
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">movie Database</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="movies.html">Movies</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="report.html">Report</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="container">
      <div><h2 class="py-4">Add a new Movie</h2></div>
      <section class="addMovieForm">
        <label for="title">Title: </label><br />
        <div class="input-group flex-nowrap">
          <input id="title" type="text" class="form-control" />
        </div>
        <br />

        <label for="Genre">Genre : </label>
        <select
          class="form-select"
          aria-label="Default select example"
          id="Genre"
        >
          <option value="Action">Action</option>
          <option value="Drama">Drama</option>
          <option value="Comedy">Comedy</option></select
        ><br />
        <label for="date">Release Date : </label><br />
        <input type="Date" class="form-control" id="date" /><br />

        <label for="Director">Director: </label><br />
        <div class="input-group flex-nowrap">
          <input id="Director" type="text" class="form-control" />
        </div>
        <br />

        <button id="add" class="btn btn-primary">Add Movie</button><br />
      </section>
      <div class="row" id="output"></div>
    </main>
    <script>
      // database  0
      const movieDetails = [
        {
          id: 1,
          movie: "Movie 1",
          genere: "action",
        
          released: "2023-1-15",
          Director: "john doe",
        },
        {
          id: 2,
          movie: "Movie 2",
          genere: "Drama",
         
          released: "2023-2-20",
          Director: "jane smith",
        },
        {
          id: 3,
          movie: "Movie 3",
          genere: "Comady",
         
          released: "2023-5-20",
          Director: "jane Walk",
        },
      ];

      const output = document.getElementById("output");
      const add =document.getElementById("add");
      // show 1
      function show() {
        output.innerHTML =""
        for (let i = 0; i < movieDetails.length; i++) {
          let card = document.createElement("div");
          card.className = "card my-3";

          let cardHeader = document.createElement("div");
          cardHeader.className = "card-header";
          cardHeader.innerHTML = `<h3>${movieDetails[i].movie}</h3>`;

          let cardBody = document.createElement("div");
          cardBody.className = "card-body";

          let generep = document.createElement("p");
          generep.className = "card-text";
          generep.innerHTML = `<strong>Genere :</strong> ${movieDetails[i].genere}`;

          let releasep = document.createElement("p");
          releasep.className = "card-text";
          releasep.innerHTML = `<strong> Release Date:</strong> ${movieDetails[i].released}`;

          let dirp = document.createElement("p");
          dirp.className = "card-text";
          dirp.innerHTML = `<strong>Director :</strong> ${movieDetails[i].Director}`;

          let a = document.createElement("a");
          a.href = `movieDetails.html?id=${movieDetails[i].id}`;
          a.className = "btn btn-primary";
          a.textContent = "details ";

          let col = document.createElement("div");
          col.className = "col-md-6";

          cardBody.appendChild(generep);
          cardBody.appendChild(releasep);
          cardBody.appendChild(dirp);
          cardBody.appendChild(a);
          card.appendChild(cardHeader);
          card.appendChild(cardBody);
          col.appendChild(card);
          output.appendChild(col) ;
        }
      }
 add.addEventListener('click' ,addMovie)
function addMovie(){
let title =  document.getElementById("title").value;
let Genre =  document.getElementById("Genre").value;
let date =  document.getElementById("date").value;
let Director =  document.getElementById("Director").value;
let newId = movieDetails.length+1
let MovieAddObj = {
          id: newId,
          movie: title,
          genere: Genre,
       
          released:  date,
          Director:Director,
}

movieDetails.push(MovieAddObj);
show();
}

      show();
    </script>
  </body>
</html>
