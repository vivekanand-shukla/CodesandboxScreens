<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTML + CSS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" />
  </head>
  <body>
    <form action=""  id="postForm" >
      <h1>API Post Call</h1>

      <label for="name">Name :</label>

      <input type="text" id="name">
      <label for="message">Message: </label>
      <input type="text" id="message">
      <button type="submit">Submit</button>
    </form>
    <div id="responseContainer" >

    </div>
    <script>
       const postForm = document.querySelector('#postForm');
     const responseContainer = document.querySelector('#responseContainer'); 
     const nameInput = document.querySelector('#name'); 
      const messageInput = document.querySelector('#message');

       postForm.addEventListener('submit',function(event){
       event.preventDefault()
       const apiUrl = `https://jsonplaceholder.typicode.com/posts`  
       const requestData ={
        name: nameInput.value,
        message : messageInput.value,
       }
   

       fetch(apiUrl,
       {
        method : "POST",
        body:JSON.stringify(requestData),
        headers:{
          'Content-Type' : 'application/json'
        }
      }).then(function(response){
         return response.json()
      }).then(function(data){
          if(data){
            console.log(data)
            responseContainer.textContent =JSON.stringify(data)
          }else{
            responseContainer.textContent ='failed to make a post call'
          }
      }).catch(function(error){
        responseContainer.textContent =' an error while making the post call . '
      })
    })
    </script>
  </body>
</html>
