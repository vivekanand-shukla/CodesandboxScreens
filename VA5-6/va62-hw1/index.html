<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTML + CSS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" />
    <style>
      #sending{
        display: none;
      }
      #Successful{
        display: none;
        color:green;
      }
    </style>
  </head>
  <body class="container">
    
    <h2>Add Movie</h2>
  

<form action="" id="form">

      <label for="title" >Title:</label><br>
      <input type="text" id="title" ><br><br>


      <label for="year" >Release Year:</label><br>
      <input type="number"  id="year" ><br><br>

    <label for="Genre">Genre : </label><br>
  
    <select   id="Genre">
      
      <option value="Action">Action</option>
      <option value="Drama">Drama</option>
      <option value="Comedy">Comedy</option>
      <option value="Romance">Romance</option>
      </select><br><br>
 
      <label for="Director" >Director :</label><br>
      <input type="text" id="Director" ><br><br>
 
      <label for="Actor" >Actor :</label><br>
      <input type="text" id="Actor" ><br><br>

  
      <label for="Language" >Language :</label><br>
      <input type="text" id="Language" ><br><br>


    <label for="Country">Country : </label><br>
  
    <select  id="Country">
      
      <option value="India">India</option>
      <option value="USA">USA</option>
      <option value="UK">China</option>

      
    </select><br><br>

     
        <label for="Rating" >Rating :</label><br>
        <input type="number"  id="Rating" ><br><br>

 
        <label for="plot" >Plot</label><br>
        <textarea id="plot" rows="3"></textarea><br><br>
     

 
        <label for="Awards" >Awards :</label><br>
        <input type="text" id="Awards" ><br><br>
 
     
        <label for="Poster" >Poster URL :</label><br>
        <input type="text" id="Poster" ><br><br>

  
        <label for="trailer" >Trailer URL :</label><br>
        <input type="text" id="trailer" ><br><br>

   
    <button type="submit" class="btn btn-primary mb-5">Add Movie</button>
  </form>
  <div id="sending" class="my-3">
     Sending the data ...
  </div>
 
  <div id="Successful" class="my-3">
      Movies added sucessfuly...
  </div>
  <script>
 
    
    let form = document.getElementById('form');
    
   
   
   const title= document.getElementById('title')
   const releaseYear  =  document.getElementById('year')
   const genre =   document.getElementById('Genre')
   const director =   document.getElementById('Director')
   const Actor =   document.getElementById('Actor')
   const language =   document.getElementById('Language')
   const country =   document.getElementById('Country')
   const rating =   document.getElementById('Rating')
   const plot =   document.getElementById('plot')
   const awards  =   document.getElementById('Awards')
   const posterUrl =   document.getElementById('Poster')
  const trailerUrl  =   document.getElementById('trailer')
  const sending  =   document.getElementById('sending')
  const Successful  =   document.getElementById('Successful')

  form.addEventListener('submit', function(event) {
        event.preventDefault();
        sending.style.display = "block" 
        let obj = {
          title:title.value,
          releaseYear:releaseYear.value  ,     
          genre: genre.value,
         director:director.value,
          actors:Actor.value,
          language:language.value ,    
          country:country.value    ,   
          rating: rating.value ,
          plot:plot.value,
          awards:awards.value   ,  
          posterUrl: posterUrl.value  ,   
          trailerUrl:trailerUrl.value   ,   };
    
        let url = `https://va-5-assignment-express-student-neog.replit.app/movies`;
    
        fetch(url, {
          method: "POST",
          body: JSON.stringify(obj),
          headers: {
            'content-type': 'application/json'
          }
        })
        .then(function(res) {
          return res.json();
        })
        .then(function(data) {
         if(data){
          sending.style.display = "none"
          Successful.style.display = "block"
         }
   
        
             
           
          
         
        });
      });




    </script>
    

  </body>
</html>

